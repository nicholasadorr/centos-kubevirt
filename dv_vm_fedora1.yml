apiVersion: kubevirt.io/v1alpha3
kind: VirtualMachine
metadata:
  creationTimestamp: null
  labels:
    kubevirt.io/vm: fedora1
  name: fedora1
spec:
  dataVolumeTemplates:
  - metadata:
      creationTimestamp: null
      name: fedora-dv
    spec:
      pvc:
        accessModes:
        - ReadWriteOnce
        resources:
          requests:
            storage: 10Gi
        storageClassName: standard
      source:
        http:
          url: https://download.fedoraproject.org/pub/fedora/linux/releases/30/Cloud/x86_64/images/Fedora-Cloud-Base-30-1.2.x86_64.raw.xz
  running: false
  template:
    metadata:
      labels:
        kubevirt.io/vm: vm-datavolume
    spec:
      domain:
        cpu:
          cores: 2
        devices:
          disks:
          - disk:
              bus: virtio
            name: data-disk0
          - cdrom:
              bus: sata
              readonly: true
            name: cloudinitdisk
        machine:
          type: q35
        resources:
          requests:
            memory: 4096M
      terminationGracePeriodSeconds: 0
      volumes:
      - name: data-disk0
        dataVolume:
          name: fedora-dv
      - name: cloudinitdisk
        cloudInitNoCloud:
          userDataBase64: I2Nsb3VkLWNvbmZpZwoKcGFja2FnZV91cGdyYWRlOiB0cnVlCgpwYWNrYWdlczoKICAtIGdpdAoKdXNlcnM6CiAgLSBuYW1lOiBmZWRvcmEKICAgIGdlY29zOiBmZWRvcmEKICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgbG9jay1wYXNzd2Q6IGZhbHNlCiAgICBzdWRvOiBbIkFMTD0oQUxMKSBOT1BBU1NXRDpBTEwiXQogICAgc2hlbGw6IC9iaW4vYmFzaAogICAgc3NoX2F1dGhvcml6ZWRfa2V5czoKICAgICAgLSBzc2gtcnNhIEFBQUFCM056YUMxeWMyRUFBQUFCSlFBQUFRRUEySG9TQTk4UXM1YmVDUW5sZk51VFhYTnJ5TE11d1FXR0ZhcWp3blVYZDFGczhqeDdhYzNXYUYzVlhCa3gvbWN5aWtwU21GTG9YMUt0dkpNSHJ2TEtGOEtIcHpJT1g1OXI1L01XRmQ4RWxsRDFIa2ppdjRkRVZmZTRNM1NERFZlSFVVQ091UXVva2NKdXNvUWZ0V05OMGJuc3l2MFRUellHN1hoNUlnM2lralIyN1hCdUFmUzBvNFNJQ2pUSmc3L29YSzlIblBLeC9TWHpyS1NzMHRHbjA4T1I4TndIZHprYnAzR2dVNlljcVNRRHlNUENzVFFRcHk1TGNkbVdkRktzUHRnS0xRMTlxcEJVMFFwN2lPNEJxY3JuN0tsQWJ0cGlXMEZiNVdDV2l2VE1GTktJdnZCelJNckJibDZsZkFoay96ejZQV0Z4N0VkM1JHS21peUNId1E9PSByc2Eta2V5LTIwMTkxMTE1CiAgLSBuYW1lOiBuYWRvcnIKICAgIGdlY29zOiBuYWRvcnIKICAgIGxvY2stcGFzc3dkOiBmYWxzZQogICAgc3VkbzogWyJBTEw9KEFMTCkgTk9QQVNTV0Q6QUxMIl0KICAgIHNoZWxsOiAvYmluL2Jhc2gKICAgIHNzaF9hdXRob3JpemVkX2tleXM6CiAgICAgIC0gc3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBQkpRQUFBUUVBMkhvU0E5OFFzNWJlQ1FubGZOdVRYWE5yeUxNdXdRV0dGYXFqd25VWGQxRnM4ang3YWMzV2FGM1ZYQmt4L21jeWlrcFNtRkxvWDFLdHZKTUhydkxLRjhLSHB6SU9YNTlyNS9NV0ZkOEVsbEQxSGtqaXY0ZEVWZmU0TTNTRERWZUhVVUNPdVF1b2tjSnVzb1FmdFdOTjBibnN5djBUVHpZRzdYaDVJZzNpa2pSMjdYQnVBZlMwbzRTSUNqVEpnNy9vWEs5SG5QS3gvU1h6cktTczB0R24wOE9SOE53SGR6a2JwM0dnVTZZY3FTUUR5TVBDc1RRUXB5NUxjZG1XZEZLc1B0Z0tMUTE5cXBCVTBRcDdpTzRCcWNybjdLbEFidHBpVzBGYjVXQ1dpdlRNRk5LSXZ2QnpSTXJCYmw2bGZBaGsveno2UFdGeDdFZDNSR0ttaXlDSHdRPT0gcnNhLWtleS0yMDE5MTExNQogIC0gbmFtZTogbWpzY2htaWR0CiAgICBnZWNvczogbWpzY2htaWR0CiAgICBsb2NrLXBhc3N3ZDogZmFsc2UKICAgIHN1ZG86IFsiQUxMPShBTEwpIE5PUEFTU1dEOkFMTCJdCiAgICBzc2hfYXV0aG9yaXplZF9rZXlzOgogICAgICAtIHNzaC1yc2EgQUFBQUIzTnphQzF5YzJFQUFBQUJKUUFBQVFFQTJIb1NBOThRczViZUNRbmxmTnVUWFhOcnlMTXV3UVdHRmFxanduVVhkMUZzOGp4N2FjM1dhRjNWWEJreC9tY3lpa3BTbUZMb1gxS3R2Sk1IcnZMS0Y4S0hweklPWDU5cjUvTVdGZDhFbGxEMUhraml2NGRFVmZlNE0zU0REVmVIVVVDT3VRdW9rY0p1c29RZnRXTk4wYm5zeXYwVFR6WUc3WGg1SWczaWtqUjI3WEJ1QWZTMG80U0lDalRKZzcvb1hLOUhuUEt4L1NYenJLU3MwdEduMDhPUjhOd0hkemticDNHZ1U2WWNxU1FEeU1QQ3NUUVFweTVMY2RtV2RGS3NQdGdLTFExOXFwQlUwUXA3aU80QnFjcm43S2xBYnRwaVcwRmI1V0NXaXZUTUZOS0l2dkJ6Uk1yQmJsNmxmQWhrL3p6NlBXRng3RWQzUkdLbWl5Q0h3UT09IHJzYS1rZXktMjAxOTExMTUK
